@page "/"
@inject IJSRuntime JSRuntime
@inject NotificationService NotificationService
@using Microsoft.AspNetCore.Components
@using System.ComponentModel.DataAnnotations

<!-- Hero Section -->
<section style="background: linear-gradient(rgba(102, 126, 234, 0.0), rgba(50, 102, 234, 0.0)), url('/images/hero-bg.jpg');
              background-size: cover;
              background-position: center;
              background-attachment: fixed;
              color: white;
              padding: 150px 0;
              text-align: center;
              position: relative;">

    <div class="glass-section">
        <div class="glass-container">
            <div class="container">
                <RadzenText Style="font-size: 3.5rem; font-weight: 900; margin-bottom: 1.5rem; color: #000000;" Tag="h1">Автоматизация элеваторов и КЗС</RadzenText>
                <div class="cards-grid">
                    <RadzenCard Class="glass-card">
                        <RadzenText Style="font-size: 1.5rem; margin-bottom: 1rem; color: #000000; font-weight: 600;" Tag="p">Контроль температуры зерна. Автоматизация КЗС и элеваторов "под ключ"</RadzenText>
                    </RadzenCard>
                </div>
            </div>
        </div>
    </div>

    <!-- Услуги -->
    <div class="glass-section" id="uslugi">
        <div class="glass-container">
            <div class="container" >
                <RadzenText Class="section-title" Tag="h2">Перечень наших услуг</RadzenText>
                <div class="cards-grid">
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="number-title" Tag="h3">01.</RadzenText>
                        <RadzenText Class="service-title" Tag="h3">Монтаж "под ключ"</RadzenText>
                        <RadzenText Class="process-title" Tag="p">
                            Полный цикл работ: от проектирования до пусконаладки
                        </RadzenText>
                        <RadzenButton Class="card-button" ButtonStyle="ButtonStyle.Light" Text="Перейти..." Click="@(() => ShowServiceDetails("Термометрия силосов"))" />
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="number-title" Tag="h3">02.</RadzenText>
                        <RadzenText Class="service-title" Tag="h3">Диагностика и ремонт</RadzenText>
                        <RadzenText Class="process-title" Tag="p">
                            Находим и устраняем неисправности в существующих системах
                        </RadzenText>
                        <RadzenButton Class="card-button" ButtonStyle="ButtonStyle.Light" Text="Перейти..." Click="@(() => ShowServiceDetails("Термометрия силосов"))" />
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="number-title" Tag="h3">03.</RadzenText>
                        <RadzenText Class="service-title" Tag="h3">Настройка и модернизция</RadzenText>
                        <RadzenText Class="process-title" Tag="p">
                            Оптимизируем работу системы, интегрируем с вашим ПО
                        </RadzenText>
                        <RadzenButton Class="card-button" ButtonStyle="ButtonStyle.Light" Text="Перейти..." Click="@(() => ShowServiceDetails("Термометрия силосов"))" />
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="number-title" Tag="h3">04.</RadzenText>
                        <RadzenText Class="service-title" Tag="h3">Сервисное обслуживание</RadzenText>
                        <RadzenText Class="process-title" Tag="p">
                            Разовое или годовое. Подготовка системы к сезону работ
                        </RadzenText>
                        <RadzenButton Class="card-button" ButtonStyle="ButtonStyle.Light" Text="Перейти..." Click="@(() => ShowServiceDetails("Термометрия силосов"))" />
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="number-title" Tag="h3">05.</RadzenText>
                        <RadzenText Class="service-title" Tag="h3">Разработка систем автоматизации</RadzenText>
                        <RadzenText Class="process-title" Tag="p">
                            Разработка АСУ на базе ПЛК и СКАДА систем
                        </RadzenText>
                        <RadzenButton Class="card-button" ButtonStyle="ButtonStyle.Light" Text="Перейти..." Click="@(() => ShowServiceDetails("Термометрия силосов"))" />
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="number-title" Tag="h3">06.</RadzenText>
                        <RadzenText Class="service-title" Tag="h3">Сборка электрощитового оборудования</RadzenText>
                        <RadzenText Class="process-title" Tag="p">
                            Монтаж и разработка станций управления АСУ
                        </RadzenText>
                        <RadzenButton Class="card-button" ButtonStyle="ButtonStyle.Light" Text="Перейти..." Click="@(() => ShowServiceDetails("Термометрия силосов"))" />
                    </RadzenCard>
                </div>
            </div>
        </div>
    </div>

    <!-- Преимущества -->
    <div class="glass-section">
        <div class="glass-container">
            <div class="container">
                <RadzenText Class="section-title" Tag="h2">Что вы получаете</RadzenText>
                <div class="cards-grid">
                    <RadzenCard Class="glass-card">
                        <div class="stats-row">
                            <div class="stats-icon">💰</div>
                            <RadzenText Class="service-title" Tag="h3">Снижение потерь зерна</RadzenText>
                        </div>
                        <RadzenText Class="process-title" Tag="p">Своевременное обнаружение очагов самосогревания сохраняет до 3% от каждой партии зерна</RadzenText>
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <div class="stats-row">
                            <div class="stats-icon">⚡</div>
                            <RadzenText Class="service-title" Tag="h3">Экономия ресурсов</RadzenText>
                        </div>
                        <RadzenText Class="process-title" Tag="p">Оптимизация работы сушилок и оборудования снижает расходы на энергоносители до 25%</RadzenText>
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <div class="stats-row">
                            <div class="stats-icon">👨‍🌾</div>
                            <RadzenText Class="service-title" Tag="h3">Управление с телефона</RadzenText>
                        </div>
                        <RadzenText Class="process-title" Tag="p">Контролируйте температуру в силосах и работу КЗС удаленно с любого устройства</RadzenText>
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <div class="stats-row">
                            <div class="stats-icon">📈</div>
                            <RadzenText Class="service-title" Tag="h3">Прозрачность процессов</RadzenText>
                        </div>
                        <RadzenText Class="process-title" Tag="p">Точный учет движения зерна, автоматическое формирование отчетов для руководства</RadzenText>
                    </RadzenCard>
                </div>
            </div>
        </div>
    </div>

    <!-- Процесс работы -->
    <div class="glass-section">
        <div class="glass-container">
            <div class="container">
                <RadzenText Class="section-title" Tag="h2">Как мы работаем</RadzenText>
                <div class="cards-grid">
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="service-title" Tag="h3">1. Выездной аудит</RadzenText>
                        <RadzenText Class="process-title" Tag="p">Выезжаем на ваш объект, анализируем силосный фонд, оборудование КЗС и существующие системы автоматизации</RadzenText>
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="service-title" Tag="h3">2. Техническое решение</RadzenText>
                        <RadzenText Class="process-title" Tag="p">Разрабатываем индивидуальный проект с расчетом ROI и подбором оптимального оборудования</RadzenText>
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="service-title" Tag="h3">3. Монтаж и пусконаладка</RadzenText>
                        <RadzenText Class="process-title" Tag="p">Устанавливаем термоподвесы, датчики, контроллеры. Настраиваем ПО и проводим обучение персонала</RadzenText>
                    </RadzenCard>
                    <RadzenCard Class="glass-card">
                        <RadzenText Class="service-title" Tag="h3">4. Техподдержка 24/7</RadzenText>
                        <RadzenText Class="process-title" Tag="p">Обеспечиваем удаленный мониторинг и оперативное реагирование на аварийные ситуации</RadzenText>
                    </RadzenCard>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Контакты -->
<section id="contact" style="background: linear-gradient(rgba(100, 126, 234, 0.5), rgba(50, 102, 234, 0.5)), url('/images/contact-bg.jpg');
              background-size: cover;
              background-position: center;
              background-attachment: fixed;
              padding: 100px 0;
              color: white;">
    <div class="container">
        <RadzenText Style="text-align: center; font-size: 2.5rem; font-weight: 600; margin-bottom: 1rem; color: white;" Tag="h2">Защитите свое зерно уже сегодня!</RadzenText>
        <RadzenText Style="text-align: center; font-size: 1.2rem; margin-bottom: 2rem; color: white;" Tag="p">Получите бесплатную консультацию по термометрии и автоматизации вашего элеватора</RadzenText>

        <RadzenRow JustifyContent="JustifyContent.Center">
            <RadzenColumn Size="12" MD="6">
                <EditForm Model="@contactForm" OnValidSubmit="@HandleValidSubmit">
                    <DataAnnotationsValidator />
                    <ValidationSummary />
                    <RadzenStack>
                        <div>
                            <label>Ваше имя *</label>
                            <RadzenTextBox @bind-Value="contactForm.Name" Style="width: 100%; margin-bottom: 1rem; background: rgba(255,255,255,0.9); color: #333; border: 1px solid rgba(255,255,255,0.3);" />
                            <ValidationMessage For="@(() => contactForm.Name)" />
                        </div>
                        <div>
                            <label>Название хозяйства/элеватора *</label>
                            <RadzenTextBox @bind-Value="contactForm.Company" Style="width: 100%; margin-bottom: 1rem; background: rgba(255,255,255,0.9); color: #333; border: 1px solid rgba(255,255,255,0.3);" />
                            <ValidationMessage For="@(() => contactForm.Company)" />
                        </div>
                        <div>
                            <label>Телефон *</label>
                            <RadzenTextBox @bind-Value="contactForm.Phone" Style="width: 100%; margin-bottom: 1rem; background: rgba(255,255,255,0.9); color: #333; border: 1px solid rgba(255,255,255,0.3);" />
                            <ValidationMessage For="@(() => contactForm.Phone)" />
                        </div>
                        <div>
                            <label>Что вас интересует?</label>
                            <RadzenTextArea @bind-Value="contactForm.Message" Placeholder="Например: термометрия силосов, автоматизация весов, модернизация КЗС..." Style="width: 100%; margin-bottom: 1rem; background: rgba(255,255,255,0.9); color: #333; border: 1px solid rgba(255,255,255,0.3);" Rows="4"></RadzenTextArea>
                        </div>
                        <RadzenButton ButtonStyle="ButtonStyle.Light" Size="ButtonSize.Large" Text="Получить консультацию" Type="Submit" Icon="send" Style="width: 100%;" />
                    </RadzenStack>
                </EditForm>
            </RadzenColumn>
        </RadzenRow>
    </div>

    <!-- Футер -->
    <footer style="padding: 40px 0;">
        <div class="container">
            <RadzenRow>
                <RadzenColumn Size="12" MD="6">
                    <RadzenText Style="font-size: 1.2rem; font-weight: 600;color: white;" Tag="h4">AgroTech Automation</RadzenText>
                    <RadzenText Style="color: white;" Tag="p">Сохраняем ваше зерно, автоматизируем вашу прибыль</RadzenText>
                </RadzenColumn>
                <RadzenColumn Size="12" MD="6">
                    <RadzenText Style="color: white;" Tag="h5">Контакты</RadzenText>
                    <RadzenText Style="color: white;" Tag="p"><RadzenIcon Icon="phone" /> +7 (495) 123-45-67</RadzenText>
                    <RadzenText Style="color: white;" Tag="p"><RadzenIcon Icon="email" /> info@agrotech-auto.ru</RadzenText>
                    <RadzenText Style="color: white;" Tag="p"><RadzenIcon Icon="place" /> г. Воронеж, ул. Промышленная, 15</RadzenText>
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow Style="margin-top: 2rem; border-top: 1px solid #34495e; padding-top: 1rem;">
                <RadzenColumn Size="12">
                    <RadzenText Style="color: white; text-align: center; font-size: 0.9rem;" Tag="p">© @DateTime.Now.Year AgroTech Automation. Все права защищены.</RadzenText>
                </RadzenColumn>
            </RadzenRow>
        </div>
    </footer>
</section>

@code {
    private ContactForm contactForm = new ContactForm();

    class ContactForm
    {
        [Required(ErrorMessage = "Введите имя")]
        public string Name { get; set; }

        [Required(ErrorMessage = "Введите название компании")]
        public string Company { get; set; }

        [Required(ErrorMessage = "Введите телефон")]
        public string Phone { get; set; }

        public string Message { get; set; }
    }

    private async Task ScrollToSection(string elementId)
    {
        await JSRuntime.InvokeVoidAsync("scrollToElement", elementId);
    }

    private void ShowServiceDetails(string serviceName)
    {
        NotificationService.Notify(NotificationSeverity.Info, $"Услуга: {serviceName}", "Свяжитесь с нами для получения подробной информации");
    }

    private void HandleValidSubmit()
    {
        NotificationService.Notify(NotificationSeverity.Success, "Заявка отправлена!", "Мы свяжемся с вами в течение 2 часов в рабочее время.");
        contactForm = new ContactForm();
        StateHasChanged();
    }
}